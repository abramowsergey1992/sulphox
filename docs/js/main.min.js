if(document.querySelector(".history")&&document.querySelectorAll(".history").forEach(t=>{let r=t.querySelectorAll(".swiper-slide"),o=t.querySelector(".history__pagination"),e=t.querySelector(".history__progress-line");const l=new Swiper(t.querySelector(".one-slider"),{slidesPerView:1,slideToClickedSlide:!0,centeredSlides:!0}),l=new Swiper(t.querySelector(".history-slider"),{slidesPerView:1,slideToClickedSlide:!0,centeredSlides:!0,on:{slideChange:function(){e.style.width=100/(r.length-1)*this.activeIndex+"%";for(let e=1;e<=r.length;e++)e<this.activeIndex+1?(t.querySelector("._p-"+e).classList.add("_past"),t.querySelector("._p-"+e).classList.remove("_now")):e==this.activeIndex+1?(t.querySelector("._p-"+e).classList.remove("_past"),t.querySelector("._p-"+e).classList.add("_now")):t.querySelector("._p-"+e).classList.remove("_past","_now")}}});for(let e=1;e<=r.length;e++)pagi=document.createElement("div"),pagi.classList.add("history__pagi"),pagi.classList.add("_p-"+e),1==e&&pagi.classList.add("_now"),pagi.innerHTML="<span>"+r[e-1].querySelector(".history-it__title").innerText+"</span>",o.append(pagi),pagi.addEventListener("click",function(){l.slideTo(e-1)})}),document.querySelector(".ours-project")&&document.querySelectorAll(".ours-project").forEach(r=>{let o=r.querySelector(".ours-project__slider-paginator");const e=new Swiper(r.querySelector(".ours-project__slider"),{speed:400,observer:!0,spaceBetween:10,threshold:40,observeParents:!0,navigation:{nextEl:r.querySelector(".ours-project__slider-next"),prevEl:r.querySelector(".ours-project__slider-prev")},on:{init:function(e){o.innerHTML=`${String(e.realIndex+1).padStart(2,"0")} <span class="project__slider-paginator-divider"></span> ${String(r.querySelectorAll(".swiper-slide:not(.d-none)").length).padStart(2,"0")}`},slideChange:function(e){o.innerHTML=`${String(e.realIndex+1).padStart(2,"0")} <span class="project__slider-paginator-divider"></span> ${String(r.querySelectorAll(".swiper-slide:not(.d-none)").length).padStart(2,"0")}`}}});let l=r.querySelectorAll(".ours-project__filter");l.forEach(t=>{t.addEventListener("click",function(){l.forEach(e=>{e.classList.remove("_active")}),t.classList.add("_active"),"all"==t.dataset.filter?document.querySelectorAll(".ours-project .ours-project__slide").forEach(e=>{e.classList.remove("d-none")}):(document.querySelectorAll(".ours-project .ours-project__slide").forEach(e=>{t.dataset.filter==e.dataset.filter?e.classList.remove("d-none"):e.classList.add("d-none")}),e.update()),o.innerHTML=`${String(e.realIndex+1).padStart(2,"0")} <span class="project__slider-paginator-divider"></span> ${String(r.querySelectorAll(".swiper-slide:not(.d-none)").length).padStart(2,"0")}`})})}),document.querySelector(".presentations")&&document.querySelectorAll(".presentations").forEach(e=>{const t=new Swiper(e.querySelector(".presentations__slider"),{speed:400,allowTouchMove:!1});let r=e.querySelectorAll(".presentations__filter");r.forEach(e=>{e.addEventListener("click",function(){r.forEach(e=>{e.classList.remove("_active")}),e.classList.add("_active"),t.slideTo(e.dataset.slide)})})}),document.querySelector(".catalog")&&document.querySelectorAll(".catalog__wrap").forEach(e=>{let t=e.querySelector(".catalog__more");console.log("moreBtn",t);let r=t.dataset.pagelenght,o=e.querySelectorAll(".catalog-1,.catalog-2");moreRender(r,o,!0,t),t.addEventListener("click",function(){moreRender(r,o,!1,t)})}),document.querySelector(".cleaning-method")&&document.querySelectorAll(".cleaning-method").forEach(e=>{const t=new Swiper(e.querySelector(".cleaning-method__swiper"),{speed:400,allowTouchMove:!1});let r=e.querySelectorAll(".cleaning-method__btn");r.forEach(e=>{e.addEventListener("click",function(){r.forEach(e=>{e.classList.remove("_active")}),e.classList.add("_active"),t.slideTo(e.dataset.slide)})})}),document.querySelector(".video-page ")&&document.querySelectorAll(".video-page ").forEach(e=>{let t=e.querySelector(".video-page__more"),r=t.dataset.pagelenght,o=e.querySelectorAll(".video-it");moreRender(r,o,!0,t),t.addEventListener("click",function(){moreRender(r,o,!1,t)})}),$(function(){$(".mp").magnificPopup({type:"image"})}),$(function(){$("#contact-form").length&&$("#contact-form").validate({errorPlacement:function(e,t){},submitHandler:function(e){$(e).find(".btn").attr("disabled","disabled"),$.ajax({url:$(e).attr("action"),data:$(e).serialize(),method:"POST",headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},context:document.body,success:function(){alert("Форма отправленна успешно"),$(e).find(".btn").removeAttr("disabled")},error:function(){alert("Ошибка"),$(e).find(".btn").removeAttr("disabled")}})}})}),document.querySelector(".product-gallery")&&document.querySelectorAll(".product-gallery").forEach(t=>{if(1<t.querySelectorAll(".product-gallery-top  .swiper-slide").length){let e=t.closest(".detail");e.classList.add("_with-gallery"),t.innerHTML+='<div class="product-gallery-thumb-wrap"><div class="product-gallery-thumb-wrap__prev"></div><div class="product-gallery-thumb swiper">'+t.querySelector(".product-gallery-top ").innerHTML+'</div><div class="product-gallery-thumb-wrap__next"></div></div>';var r=t.querySelector(".product-gallery-top"),o=t.querySelector(".product-gallery-thumb"),l=t.querySelector(".product-gallery-thumb-wrap__prev"),t=t.querySelector(".product-gallery-thumb-wrap__next"),o=new Swiper(o,{spaceBetween:12,setWrapperSize:!0,watchSlidesProgress:!0,slidesPerView:3});new Swiper(r,{navigation:{nextEl:t,prevEl:l},spaceBetween:12,setWrapperSize:!0,slidesPerView:1,thumbs:{swiper:o}})}}),document.querySelector(".solutions-slider")&&document.querySelectorAll(".solutions-slider").forEach(e=>{var t=e.querySelector(".solutions-slider__slider"),r=e.querySelector(".solutions-slider__nav-prev"),e=e.querySelector(".solutions-slider__nav-next");new Swiper(t,{navigation:{nextEl:e,prevEl:r},preventClicks:!1,preventClicksPropagation:!1,spaceBetween:21,setWrapperSize:!0,slidesPerView:"auto",on:{resize:function(){const e=this,r=this.wrapperEl;let o=0;[].forEach.call(e.slides,function(e){let t=e.querySelector(".catalog-2__title");t.style.height="",t.offsetHeight>=o&&(o=t.offsetHeight),e.style.height=""}),setTimeout(()=>{[].forEach.call(e.slides,function(e){e.style.height=r.clientHeight+"px";let t=e.querySelector(".catalog-2__title");t.style.height=o+"px"})},300)},init:function(){const e=this;let r=0;const o=this.wrapperEl;[].forEach.call(e.slides,function(e){e.style.height="";let t=e.querySelector(".catalog-2__title");t.style.height="",t.offsetHeight>=r&&(r=t.offsetHeight),console.log(r)}),setTimeout(()=>{[].forEach.call(e.slides,function(e){e.style.height=o.clientHeight+"px";let t=e.querySelector(".catalog-2__title");t.style.height=r+"px"})},300)}}})}),$(function(){}),document.querySelectorAll(".news-page").forEach(e=>{let t=e.querySelectorAll(".news-item,.article-item"),r=e.querySelector(".news-page__row").dataset.pagelength,o=e.querySelector(".news-page__more"),l=e.querySelectorAll(".news-page__filter");filterRender(r,t,"all",!0,o),o.addEventListener("click",function(){filterRender(r,t,e.querySelector(".news-page__filter._active").dataset.filter,!1,o)}),l.forEach(e=>{e.addEventListener("click",function(){e.classList.contains("_active")||(l.forEach(e=>{e.classList.remove("_active")}),e.classList.add("_active"),filterRender(r,t,e.dataset.filter,!0,o))})})}),document.querySelector(".quiz-slider")&&(document.querySelectorAll(".quiz-slider").forEach(t=>{let r=t.querySelectorAll(".swiper-slide"),o=t.querySelector(".quiz-slider__paginator"),e=t.querySelector(".quiz-slider__progress-line");for(let e=1;e<=r.length;e++)pagi=document.createElement("div"),pagi.classList.add("quiz-slider__pagi"),pagi.classList.add("_p-"+e),1==e&&pagi.classList.add("_now"),pagi.innerText=e<=10?"0"+e:e,o.append(pagi);new Swiper(t,{allowTouchMove:!1,on:{slideChange:function(){e.style.width=100/(r.length-1)*this.activeIndex+"%";for(let e=1;e<=r.length;e++)e<this.activeIndex+1?(t.querySelector("._p-"+e).classList.add("_past"),t.querySelector("._p-"+e).classList.remove("_now")):e==this.activeIndex+1?(t.querySelector("._p-"+e).classList.remove("_past"),t.querySelector("._p-"+e).classList.add("_now")):t.querySelector("._p-"+e).classList.remove("_past","_now")}}})}),$(document).on("click",".quiz-radio__input",function(){this.addEventListener("change",function(){this.closest(".swiper-slide").querySelector(".quiz-slider__next ").removeAttribute("disabled")})}),$(document).on("click",".quiz-slider__next",function(){$(this).closest(".swiper");let r=$(this).closest(".swiper-slide").next(".swiper-slide"),o=$(this).closest(".swiper")[0].swiper;if(!$(this)[0].hasAttribute("disabled")){let e=$(this).closest(".swiper-slide");"step"==$(this).attr("status")?$.ajax({url:$(this).attr("url"),data:{step:$(this).attr("step"),answer:e.find(".quiz-radio__input").val()},method:$(this).attr("method"),headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},context:document.body,success:function(e){console.log(e);let t=`<h2 class="quiz-slider__title">${e.title}</h2>`;e.variants.forEach(function(e){t+=`<label class="quiz-radio">
								<input class="quiz-radio__input" type="radio" name="${e.name}" value="${e.value}"><span class="quiz-radio__indicator"> </span><span class="quiz-radio__text">${e.text}</span>
							</label>`}),t+=`<button class="quiz-slider__next btn-arrow" type="button" disabled="" status="${e.status}" url="${e.url}" method="${e.method}">${"step"==e.status?"Далее":"Завершить"}<svg width="14" height="11" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="m7.593 8.393-.707.707L8.3 10.514l.707-.707-1.414-1.414ZM11.9 5.5l.707.707.707-.707-.707-.707-.707.707ZM9.007 1.193 8.3.486 6.886 1.9l.707.707 1.414-1.414Zm0 8.614 3.6-3.6-1.414-1.414-3.6 3.6 1.414 1.414Zm3.6-5.014-3.6-3.6-1.414 1.414 3.6 3.6 1.414-1.414ZM11.9 4.5H.2v2h11.7v-2Z"></path></svg></button>`,r.html(t),console.log("swiper",o),o.slideNext()},error:function(){}}):$(this).closest("form").submit()}})),document.querySelector(".front-about__slider")&&document.querySelectorAll(".front-about__slider").forEach(e=>{new Swiper(e,{speed:400,loop:!0,autoplay:{delay:5e3},navigation:{nextEl:e.querySelector(".front-about__slider-next"),prevEl:e.querySelector(".front-about__slider-prev")}})}),document.querySelector(".news")&&document.querySelectorAll(".news").forEach(e=>{const t=new Swiper(e.querySelector(".news-slider"),{speed:400,allowTouchMove:!1});let r=e.querySelectorAll(".news__filter");r.forEach(e=>{e.addEventListener("click",function(){r.forEach(e=>{e.classList.remove("_active")}),e.classList.add("_active"),t.slideTo(e.dataset.slide)})})}),$(function(){}),document.querySelector(".project-complite__filters")){let r=document.querySelectorAll(".project-complite__filter"),o=document.querySelectorAll(".project-list .project");r.forEach(e=>{e.addEventListener("click",function(){r.forEach(e=>{e.classList.remove("_active")});let t=e.dataset.filter;e.classList.add("_active"),o.forEach(e=>{if("all"==t||e.dataset.filter==t){e.classList.remove("_d-none");let t=e.querySelectorAll(".swiper-slide").length,r=e.querySelector(".project__slider-paginator");setTimeout(function(){new Swiper(e.querySelector(".swiper"),{effect:"fade",speed:1e3,loop:!0,observeParents:!0,observer:!0,on:{slideChange:function(e){r.innerHTML=`${String(e.realIndex+1).padStart(2,"0")} <span class="project__slider-paginator-divider"></span> ${String(t).padStart(2,"0")}`}},autoplay:{delay:3e3}})},1e3*Math.floor(4*Math.random())+1)}else e.classList.add("_d-none"),e.querySelector(".swiper").swiper.destroy()})})})}$(function(){}),document.querySelector(".service-slider")&&document.querySelectorAll(".service-slider").forEach(e=>{const t=new Swiper(e.querySelector(".service-slider__slide"),{speed:400,allowTouchMove:!1,autoHeight:!0,fadeEffect:{crossFade:!0}});let r=e.querySelectorAll(".service-slider__tab");r.forEach(e=>{e.addEventListener("click",function(){r.forEach(e=>{e.classList.remove("_active")}),e.classList.add("_active"),t.slideTo(e.dataset.slide)})})}),$(document).ready(function(){$(".video-it__link").magnificPopup({disableOn:700,type:"iframe",mainClass:"mfp-fade",removalDelay:160,preloader:!1,fixedContentPos:!1})}),document.querySelector(".sertificate-block")&&document.querySelectorAll(".sertificate-block").forEach(e=>{let t=e.querySelector(".sertificate-block__more"),r=t.dataset.pagelenght,o=e.querySelectorAll(".sertificate-it");moreRender(r,o,!0,t),t.addEventListener("click",function(){moreRender(r,o,!1,t)})}),document.querySelector(".sulutions-tabs")&&document.querySelectorAll(".sulutions-tabs").forEach(e=>{const t=new Swiper(e.querySelector(".sulutions-tabs__slider"),{speed:400,allowTouchMove:!1,effect:"fade",autoHeight:!0,fadeEffect:{crossFade:!0}});let r=e.querySelector(".sulutions-tabs__line");var o=e.querySelector(".sulutions-tabs__tab._active");r.style.left=o.offsetLeft+"px",r.style.width=o.offsetWidth+"px";let l=e.querySelectorAll(".sulutions-tabs__tab");l.forEach(e=>{e.addEventListener("click",function(){l.forEach(e=>{e.classList.remove("_active")}),r.style.left=e.offsetLeft+"px",r.style.width=e.offsetWidth+"px",e.classList.add("_active"),t.slideTo(e.dataset.slide)})})}),$(function(){});const fadeIn=(e,t,r)=>{e.style.opacity=0,e.style.display=r||"block",e.style.transition=`opacity ${t}ms`,setTimeout(()=>{e.style.opacity=1},10)},fadeOut=(e,t)=>{e.style.opacity=1,e.style.transition=`opacity ${t}ms`,e.style.opacity=0,setTimeout(()=>{e.style.display="none"},t)};let slideUp=(e,t=500)=>{e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.boxSizing="border-box",e.style.height=e.offsetHeight+"px",e.offsetHeight,e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,window.setTimeout(()=>{e.style.display="none",e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property")},t)},slideDown=(t,r=500)=>{if("none"===window.getComputedStyle(t).display){t.style.removeProperty("display");let e=window.getComputedStyle(t).display;"none"===e&&(e="block"),t.style.display=e;var o=t.offsetHeight;t.style.overflow="hidden",t.style.height=0,t.style.paddingTop=0,t.style.paddingBottom=0,t.style.marginTop=0,t.style.marginBottom=0,t.offsetHeight,t.style.boxSizing="border-box",t.style.transitionProperty="height, margin, padding",t.style.transitionDuration=r+"ms",t.style.height=o+"px",t.style.removeProperty("padding-top"),t.style.removeProperty("padding-bottom"),t.style.removeProperty("margin-top"),t.style.removeProperty("margin-bottom"),window.setTimeout(()=>{t.style.removeProperty("height"),t.style.removeProperty("overflow"),t.style.removeProperty("transition-duration"),t.style.removeProperty("transition-property")},r)}};var slideToggle=(e,t=500)=>("none"===window.getComputedStyle(e).display?slideDown:slideUp)(e,t);function filterRender(t,e,r="all",o=!1,l){o&&e.forEach(e=>{e.classList.add("_d-none")});let s=1;e.forEach(e=>{"all"==r||e.dataset.filter==r?e.classList.contains("_d-none")&&s<=t&&(e.classList.remove("_d-none"),s++):e.classList.add("_d-none")}),s<=t?l.classList.add("_d-none"):l.classList.remove("_d-none")}function moreRender(t,e,r=!1,o){r&&e.forEach(e=>{e.classList.add("_d-none")});let l=1;e.forEach(e=>{e.classList.contains("_d-none")&&l<=t&&(e.classList.remove("_d-none"),l++)}),l<=t?o.classList.add("_d-none"):o.classList.remove("_d-none")}$(function(){}),window.addEventListener("scroll",function(){50<this.scrollY?document.body.classList.add("_not-top"):document.body.classList.remove("_not-top")}),document.querySelectorAll(".btn-arrow").forEach(e=>{e.innerHTML=e.innerText+'<svg width="14" height="11" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="m7.593 8.393-.707.707L8.3 10.514l.707-.707-1.414-1.414ZM11.9 5.5l.707.707.707-.707-.707-.707-.707.707ZM9.007 1.193 8.3.486 6.886 1.9l.707.707 1.414-1.414Zm0 8.614 3.6-3.6-1.414-1.414-3.6 3.6 1.414 1.414Zm3.6-5.014-3.6-3.6-1.414 1.414 3.6 3.6 1.414-1.414ZM11.9 4.5H.2v2h11.7v-2Z"/></svg>'}),$(function(){$("._mask-phone").each(function(){Inputmask("+7 (999) 999-99-99").mask(this)}),$("._mask-date").each(function(){Inputmask("99.99.9999").mask(this)})});let mobmenu=document.querySelector(".mobmenu");document.querySelectorAll(".mobmenu__menu-drop-title").forEach(e=>{let t=e.closest(".mobmenu__menu-li");e.addEventListener("click",function(){mobmenu.classList.toggle("_open-item"),t.classList.toggle("_open")})}),document.querySelector(".header__mobmenu").addEventListener("click",function(){fadeIn(mobmenu,500,"flex")}),document.querySelector(".header__mobmenu-close").addEventListener("click",function(){fadeOut(mobmenu,500,"flex")}),$(function(){}),document.querySelectorAll(".project").forEach(o=>{o.querySelectorAll(".project__slider").forEach(e=>{let t=e.querySelectorAll(".swiper-slide").length,r=e.querySelector(".project__slider-paginator");setTimeout(function(){new Swiper(e,{effect:"fade",speed:1e3,loop:!0,navigation:{nextEl:o.querySelector(".project__slider-next"),prevEl:o.querySelector(".project__slider-prev")},observeParents:!0,observer:!0,on:{slideChange:function(e){r.innerHTML=`${String(e.realIndex+1).padStart(2,"0")} <span class="project__slider-paginator-divider"></span> ${String(t).padStart(2,"0")}`}},autoplay:{delay:3e3}})},1e3*Math.floor(4*Math.random())+1)})}),document.querySelector(".sertificate-gallery")&&document.querySelectorAll(".sertificate-gallery").forEach(e=>{new Swiper(e,{spaceBetween:20,preventClicks:!1,preventClicksPropagation:!1,breakpoints:{320:{slidesPerView:1.3},480:{slidesPerView:2.1},740:{slidesPerView:3},992:{slidesPerView:4}}})}),$(function(){$(".gallery-popup").magnificPopup({gallery:{enabled:!0},delegate:".sertificate-it__text",type:"image"})}),document.querySelectorAll(".video").forEach(e=>{let t=e.querySelector("video"),r=document.createElement("div");r.classList.add("video__play"),r.innerHTML='<svg width="32" height="44" viewBox="0 0 32 44" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M2 42V2L30 22L2 42Z" stroke="white" stroke-width="3" stroke-linejoin="round"/></svg>',t.addEventListener("click",function(){t.pause(),fadeIn(r,300,"flex")}),r.addEventListener("click",function(){t.play(),fadeOut(r,300,"flex")}),e.append(r)}),$(function(){$(".popup__close,.popup__overlay").click(function(){let e=$(this).closest(".popup");e.removeClass("_animate"),setTimeout(function(){e.removeClass("_display")},500)}),$("[data-popup]").click(function(e){e.preventDefault(),$(".popup").removeClass("_display","_animate");let t=$($(this).data("popup"));t.attr("data-state",""),t.find("input").val(""),t.find("input").removeClass("valid","error"),t.addClass("_display"),"#feedback"==$(this).data("popup")&&t.find("h2").text($(this).text()),setTimeout(function(){t.addClass("_animate")},500)}),document.addEventListener("aos:in",({detail:e})=>{console.log("animated in",e)}),$("._mask-phone").each(function(){Inputmask("+7 (999) 999-99-99").mask(this)}),$("._mask-date").each(function(){Inputmask("99.99.9999").mask(this)}),$("._mask-int").each(function(){Inputmask("9{1,10}").mask(this)}),$("#form-feedback").length&&$("#form-feedback").validate({errorPlacement:function(e,t){},submitHandler:function(e){$(".form-feedback__sbmt").attr("disabled","disabled"),$.ajax({url:$(e).attr("action"),data:$(e).serialize(),method:"POST",headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},context:document.body,success:function(){$(".popup#feedback").removeClass("_display"),$(".popup#feedback").removeClass("_animate"),$(".form-feedback__sbmt").removeAttr("disabled");let e=$(".popup#succes");e.addClass("_display"),setTimeout(function(){e.addClass("_animate")},500)},error:function(){$(".popup#feedback").removeClass("_display"),$(".popup#feedback").removeClass("_animate"),$(".form-feedback__sbmt").removeAttr("disabled");let e=$(".popup#error");e.addClass("_display"),setTimeout(function(){e.addClass("_animate")},500)}})}})});